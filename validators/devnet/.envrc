# Devnet Environment
# Default configuration for devnet operations (validator, bitcoin, titan)

source_up

# Validator configuration
export VALIDATOR_USER=devnet-validator
export ARCH_NETWORK_MODE=devnet

# Bitcoin configuration (devnet validator connects to bitcoin regtest)
export BITCOIN_USER=devnet-bitcoin
export BITCOIN_NETWORK_MODE=regtest
export BITCOIN_RPC_USER=bitcoin

# Common devnet endpoints (can be overridden in .env)
export ARCH_TITAN_ENDPOINT=https://titan-public-http.dev.arch.network
export ARCH_TITAN_SOCKET_ENDPOINT=titan-public-tcp.dev.arch.network:3030
export ARCH_RPC_BIND_PORT=9002

# Ensure required passwords exist
ensure_dot_env_password_exists BITCOIN_RPC_PASSWORD "$(dirname "${BASH_SOURCE[0]}")"

# Source user customizations
dotenv_if_exists .env
dotenv .env.passwords

echo "ðŸ”§ Devnet environment loaded"
echo "  VALIDATOR_USER=$VALIDATOR_USER (ARCH_NETWORK_MODE=$ARCH_NETWORK_MODE)"
echo "  BITCOIN_USER=$BITCOIN_USER (BITCOIN_NETWORK_MODE=$BITCOIN_NETWORK_MODE)"
echo ""
echo "ðŸ“‹ Available commands:"
echo "  # Validator operations:"
echo "  validator-init      # Initialize devnet validator (needs VALIDATOR_ENCRYPTED_IDENTITY_KEY)"
echo "  validator-up        # Start devnet validator"
echo "  validator-down      # Stop devnet validator"
echo "  validator-dashboard # Monitor devnet validator"
echo ""
echo "  # Bitcoin operations:"
echo "  bitcoin-init        # Initialize devnet bitcoin node"
echo "  bitcoin-up          # Start devnet bitcoin node"
echo "  bitcoin-down        # Stop devnet bitcoin node"
echo ""
echo "ðŸ’¡ Customize by creating .env file in this directory"
